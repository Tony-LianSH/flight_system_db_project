<!DOCTYPE html>
<html>
    <head>
        <title>
            View top customers
        </title>
        <meta charset="UTF-8" />
        <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="http://code.highcharts.com/highcharts.js"></script>
    </head>
    <body>
        <!-- <p id="lastyear"></p> -->
        <div id="container1" style="width: 550px; height: 400px; margin: 0 auto"></div>
        <div id="container2" style="width: 550px; height: 400px; margin: 0 auto"></div>
        <input id='ccust0' style = 'display:none' value={{counts_cust[0]}} />
        <input id='ccust1' style = 'display:none' value={{counts_cust[1]}} />
        <input id='ccust2' style = 'display:none' value={{counts_cust[2]}} />
        <input id='ccust3' style = 'display:none' value={{counts_cust[3]}} />
        <input id='ccust4' style = 'display:none' value={{counts_cust[4]}} />
        <input id='pcust0' style = 'display:none' value={{price_cust[0]}} />
        <input id='pcust1' style = 'display:none' value={{price_cust[1]}} />
        <input id='pcust2' style = 'display:none' value={{price_cust[2]}} />
        <input id='pcust3' style = 'display:none' value={{price_cust[3]}} />
        <input id='pcust4' style = 'display:none' value={{price_cust[4]}} />
        <script language="JavaScript">

        let cust = [document.getElementById("ccust0").value,document.getElementById("ccust1").value,document.getElementById("ccust2").value,document.getElementById("ccust3").value,document.getElementById("ccust0").value,document.getElementById("ccust4").value];
        var stats = {{counts_times}};
        chart = draw1();
        let pcust = [document.getElementById("pcust0").value,document.getElementById("pcust1").value,document.getElementById("pcust2").value,document.getElementById("pcust3").value,document.getElementById("pcust0").value,document.getElementById("pcust4").value];
        var pstats = {{price_com}};
        chart = draw2();

        function draw1(){
            var options = {
                chart: {
                    type: 'bar'                          //指定图表的类型，默认是折线图（line）
                },
                title: {
                    text: 'Top 5 Customers (Purchased most tickets in 6 months)'                 // 标题
                },
                xAxis: {
                    categories: cust   // x 轴分类
                },
                yAxis: {
                    title: {
                        text: ''                // y 轴标题
                    }
                },
                series: [{                              // 数据列
                    name: 'Times',                        // 数据列名
                    data: stats                   // 数据
                }]
                };
                // 图表初始化函数
                var chart = Highcharts.chart('container1', options);
        }
        function draw2(){
            var options = {
                chart: {
                    type: 'bar'                          //指定图表的类型，默认是折线图（line）
                },
                title: {
                    text: 'Top 5 Customers (Highest commision in one year)'                 // 标题
                },
                xAxis: {
                    categories: pcust   // x 轴分类
                },
                yAxis: {
                    title: {
                        text: 'Dollar'                // y 轴标题
                    }
                },
                series: [{                              // 数据列
                    name: 'Commission amount',                        // 数据列名
                    data: pstats                   // 数据
                }]
                };
                // 图表初始化函数
                var chart = Highcharts.chart('container2', options);
        }


        </script>
        
    <button onclick="window.location.href='/bahome';">home page</button>
    </body>
</html>